let slideUp=(e,t=400)=>{e.classList.contains("-anim")||(e.classList.add("-anim"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!0,e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("-anim")}),t))},slideDown=(e,t=400)=>{if(!e.classList.contains("-anim")){e.classList.add("-anim"),e.hidden&&(e.hidden=!1);let s=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=s+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("-anim")}),t)}},slideToggle=(e,t=400)=>e.hidden?slideDown(e,t):slideUp(e,t),showTabContent=(e,t,s,n)=>{s?e.style.display="block":setTimeout((()=>{e.classList.add("-animTab"),e.style.cssText=`display:block; animation: ${t.name} ${t.duration}ms forwards 0s;`,setTimeout((()=>{e.style.animation="",e.classList.remove("-animTab")}),t.duration)}),n?t.duration:0)},hideTabContent=(e,t,s)=>{s?e.style.display="none":(e.style.cssText=`animation: ${t.name} ${t.duration}ms forwards 0s;`,e.classList.add("-animTab"),setTimeout((()=>{e.style.display="none",e.style.animation="",e.classList.remove("-animTab")}),t.duration))},changeTab=(e,t,s,n,i,a)=>{let o;if(e){const s=e.dataset.tabItem;o=t.filter((e=>e.dataset.tabContent==s))[0],o.classList.add("-active")}if("change"==i){if(n&&n.classList.contains("main-content")){const e=n.querySelectorAll("[data-tab-item]");e.forEach((e=>e.classList.remove("-active"))),e[0].classList.add("-active");const t=n.querySelector("[data-tab-content].-active"),s=n.querySelector("[data-tab-content]");hideTabContent(t,!1,!0),t.classList.remove("-active"),showTabContent(s,!1,!0),s.classList.add("-active");const i=n.querySelectorAll("[data-spoller-item].-active");i.length>0&&i.forEach((e=>setTimeout((()=>e.click()),500)))}initElements("video",o);const e=document.querySelector(".popup-reaction.-visible");e&&e.classList.remove("-visible");const t=o.querySelector("[data-tab-content]")?o.querySelector("[data-tab-content]"):o;if(t.querySelector(".slider-main-content__body")){initElements("slider",t.querySelector(".slider-main-content__body"));const e=document.querySelector(".main-content.-active").querySelector(".popup-reaction_switch");e.classList.contains("-visible")||e.classList.add("-visible")}else initElements("removeSlider");const s=o.querySelector(".main-content__list li:first-child [data-spoller-item]");let i;s&&!s.classList.contains("-active")&&n&&!document.body.classList.contains("-animGoTo")&&s.click(),i=o.querySelector("[data-tab-content]")?o.querySelector("[data-tab-content]"):o.querySelector(".swiper-slide")?o.querySelector(".swiper-slide"):o;const a=i.closest(".main-content").querySelector(".popup-reaction_info");showPopupInfo(i,a)}(n||"change"==i)&&(showTabContent(o,s.show,!1,!!n),n&&(hideTabContent(n,s.hide),n.classList.remove("-active"))),"on"==i&&(a?t.forEach((e=>hideTabContent(e,"",!0))):(showTabContent(o,"",!0),t.filter((e=>!e.classList.contains("-active"))).forEach((e=>hideTabContent(e,"",!0))))),"off"==i&&t.forEach((e=>showTabContent(e,s.show,!0)))};class Tabs{elements=document.querySelectorAll("[data-tab]");init(){this.elements.length>0&&this.elements.forEach((e=>{const t=e=>{const t=e.split(",").map((e=>e.trim()));return{name:t[0],duration:t[1]}},s={el:e,items:Array.from(Array.from(e.children).find((e=>e.hasAttribute("data-tab-items"))).querySelectorAll("[data-tab-item]")),contents:Array.from(Array.from(e.children).find((e=>e.hasAttribute("data-tab-contents"))).children),noActive:e.hasAttribute("data-no-active"),animation:{show:t(e.dataset.animationShow),hide:t(e.dataset.animationHide)},mediaQuery:{type:e.dataset.tab.split(",").map((e=>e.trim()))[0],size:e.dataset.tab.split(",").map((e=>e.trim()))[1]}};e.settingTab=s;const n=window.matchMedia(`(${s.mediaQuery.type}-width: ${s.mediaQuery.size}px)`);this.handlerMedia(n,s.el,s.items,s.noActive,s.contents,s.animation),n.addListener((()=>this.handlerMedia(n,s.el,s.items,s.noActive,s.contents,s.animation)))}))}handlerMedia(e,t,s,n,i,a){if(e.matches){let e;t.setAttribute("data-tab-enable",""),t.removeAttribute("data-tab-disabled"),n||(e=s.filter((e=>e.classList.contains("-active")))[0],e||(e=s[0],e.classList.add("-active"))),changeTab(!n&&e,i,a,!1,"on",n)}else t.setAttribute("data-tab-disabled",""),t.removeAttribute("data-tab-enable"),changeTab(!1,i,a,!1,"off");document.addEventListener("click",this.actionDocument)}actionDocument(e){const t=e.target;if(t.closest("[data-tab-item]")&&t.closest("[data-tab]").hasAttribute("data-tab-enable")&&(e.preventDefault(),!t.closest("[data-tab-item]").classList.contains("-active")&&0===t.closest("[data-tab]").querySelectorAll(".-animTab").length)){const e=t.closest("[data-tab-item]");e.closest("[data-tab-items]").querySelectorAll("[data-tab-item]").forEach((e=>e.classList.remove("-active"))),e.classList.add("-active");const s=e.closest("[data-tab]"),n=Array.from(Array.from(s.children).find((e=>e.hasAttribute("data-tab-contents"))).children);changeTab(e,n,s.settingTab.animation,n.filter((e=>e.classList.contains("-active")))[0],"change")}}}class Spoller{init(){if(this.elements=document.querySelectorAll("[data-spollers]"),this.objects=[],this.elements.length>0){for(let e=0;e<this.elements.length;e++){const t=this.elements[e],s={};s.el=t,s.oneSpoller=s.el.hasAttribute("data-one-spoller"),s.items=s.el.querySelectorAll("[data-spoller-item]");const n=s.el.dataset.spollers.split(",").map((e=>e.trim()));s.mediaSettings={type:n[0],size:n[1]},s.activeItems=Array.from(s.items).filter((e=>e.classList.contains("-active"))),this.objects.push(s)}for(let e=0;e<this.objects.length;e++){const t=this.objects[e],s=window.matchMedia(`(${t.mediaSettings.type}-width:${t.mediaSettings.size}px)`);this.mediaHandler(s,t.el,t.items,t.activeItems,t.oneSpoller),s.addEventListener("change",(e=>this.mediaHandler(e,t.el,t.items,t.activeItems,t.oneSpoller)))}}}mediaHandler(e,t,s,n,i){if(e.matches){const e=[],n=[];s.forEach((t=>t.classList.contains("-active")?e.push(t):n.push(t))),e.length>0?i?e.length>1?(slideDown(s[0].nextElementSibling,0),e.forEach((e=>{e.classList.remove("-active"),slideUp(e.nextElementSibling,0)})),s[0].classList.add("-active")):1==e.length&&slideDown(e[0].nextElementSibling,0):e.forEach((e=>{slideDown(e.nextElementSibling,0)})):i&&(s[0].classList.add("-active"),slideDown(s[0].nextElementSibling,0)),n.length>0&&n.forEach((e=>{slideUp(e.nextElementSibling,0)})),t.items=s,t.oneSpoller=i,t.addEventListener("click",this.actionSpollerElement)}else s.forEach((e=>{e.classList.remove("-active"),slideDown(e.nextElementSibling,0)})),n.length>0&&n.forEach((e=>e.classList.add("-active"))),t.items&&t.oneSpoller&&(delete t.items,delete t.oneSpoller),t.removeEventListener("click",this.actionSpollerElement)}actionSpollerElement(e){const t=e.target,s=e.currentTarget.items,n=e.currentTarget.oneSpoller,i=Array.from(s).filter((e=>e.nextElementSibling.classList.contains("-anim")));if(t.closest("[data-spoller-item]")){const a=t.closest("[data-spoller-item]");a.querySelector("[data-spoller-openner]")&&!t.closest("[data-spoller-openner]")||(e.preventDefault(),0===i.length&&(a.classList.contains("-active")?n||(a.classList.remove("-active"),slideUp(a.nextElementSibling)):(slideDown(a.nextElementSibling),n&&s.forEach((e=>{e.classList.remove("-active"),slideUp(e.nextElementSibling)})),a.classList.add("-active"))))}}}const animMenuLabels=e=>{const t=Array.from(document.querySelector(".menu__list").children),s=Array.from(document.querySelector(".menu__label").children);s.forEach((e=>e.classList.remove("-show"))),e&&s[t.indexOf(e.parentElement)].classList.add("-show")};document.addEventListener("click",(e=>{const t=e.target;if(t.closest(".popup-reaction__opener")){e.preventDefault();const s=t.closest(".popup-reaction__opener");document.querySelector(".popup-reaction.-open")&&document.querySelector(".popup-reaction.-open")!=s.closest(".popup-reaction")&&document.querySelector(".popup-reaction.-open").classList.remove("-open"),s.closest(".popup-reaction").classList.toggle("-open");const n=s.closest(".popup-reaction_info");if(n)if(n.classList.contains("-open")){const e=document.querySelector(".main-content.-active .main-content__content.-active");updatePopupInfo(e.popupSettings?e.popupSettings:e.querySelector(".swiper-slide-active").popupSettings)}else updatePopupInfo()}if(!t.closest(".popup-reaction")&&document.querySelector(".popup-reaction.-open")&&(document.querySelector(".popup-reaction.-open").classList.contains("popup-reaction_info")&&updatePopupInfo(),document.querySelector(".popup-reaction.-open").classList.remove("-open")),t.closest(".popup-reaction__arrow")){const e=t.closest(".popup-reaction__arrow").closest(".popup-reaction"),s=e.previousElementSibling.querySelector(".main-content__content.-active").querySelector(".slider-main-content__body"),n=s.swiper;s.classList.contains("-animSlides")||(t.closest(".popup-reaction__arrow_prev")&&n.slideTo(n.activeIndex-1),t.closest(".popup-reaction__arrow_next")&&n.slideTo(n.activeIndex+1)),showPopupInfo(n.slides[n.activeIndex],e.nextElementSibling)}if(t.closest("[data-link]")){e.preventDefault();const s=t.closest("[data-link]");if(s.hasAttribute("data-link")){const e=s.dataset.link.split(",").map((e=>e.trim())),t=e.map(((t,s)=>{const n=document.querySelector(`.main-content[data-tab-content="${e[0]}"]`);if(s){const e=n.querySelectorAll(".main-content__item")[t-1];return e.classList.contains("-btn-plus")?e.children[0]:e}return document.querySelector(`.menu__item[data-tab-item="${t}"]`)}));let n=0;const i=e=>{e.click(),n+=1,a()},a=()=>{0==n?(document.body.classList.add("-animGoTo"),i(t[0]),animMenuLabels(t[0])):t[n]?setTimeout((()=>{i(t[n])}),500):document.body.classList.remove("-animGoTo")};a()}}})),document.addEventListener("mousemove",(e=>{const t=e.target;if(t.closest("[data-tooltip-label]")){t.closest("[data-tooltip-label]");const s=document.querySelector(".tooltip");s&&(s.style.cssText=`top: ${e.pageY+8}px;left: ${e.pageX+20}px;`)}})),document.addEventListener("mouseover",(e=>{const t=e.target;if(t.closest("[data-tooltip-label]")){const e=t.closest("[data-tooltip-label]");e.dataset.tooltipLabel&&!document.querySelector(".tooltip")&&document.body.insertAdjacentHTML("beforeend",`<div class="tooltip">${e.dataset.tooltipLabel}</div>`)}if(t.closest(".menu__item")){const e=t.closest(".menu__item");e.classList.contains("-active")||animMenuLabels(e)}})),document.addEventListener("mouseout",(e=>{const t=e.target;if(t.closest("[data-tooltip-label]")){const e=document.querySelector(".tooltip");e&&e.remove()}if(t.closest(".menu__item")){t.closest(".menu__item").classList.contains("-active")||animMenuLabels(document.querySelector(".menu__item.-active")?document.querySelector(".menu__item.-active"):null)}}));const showPopupInfo=(e,t)=>{let s;e.popupSettings?s=e.popupSettings:e.querySelector(".swiper-slide")&&(s=e.querySelector(".swiper-slide").popupSettings),s?t.classList.add("-visible"):t.classList.remove("-visible")},changeSlide=e=>{const t=e.el.closest(".main-content").querySelector(".popup-reaction__arrows"),s=Array.from(t.children);s.length>0&&(s.forEach((e=>e.classList.remove("-disable"))),0==e.activeIndex&&s[0].classList.add("-disable"),e.activeIndex==e.slides.length-1&&s[1].classList.add("-disable"))};function initElements(e,t){const s=document.querySelector(`.${{video:"video-js",slider:"swiper-initialized",removeSlider:"swiper-initialized"}[e]}`);if(s&&("video"==e&&s.classList.add("-oldPlayer"),setTimeout((()=>{"video"==e?(s.classList.remove("-oldPlayer"),videojs(s).dispose()):"slider"!=e&&"removeSlider"!=e||s.swiper.destroy()}),400)),"video"==e){let e;if(t.querySelector("[data-tab-content]")){const s=t.querySelector("[data-tab-content]");e=s.urlVideo?s:t.querySelector(".swiper-slide")}else e=t.querySelector(".swiper-slide")?t.querySelector(".swiper-slide"):t;if(e.urlVideo){e.insertAdjacentHTML("beforeend",'<video class="-reaction-video video-js"></video>');const t=videojs(e.querySelector("video"),{controls:!0,controlBar:{pictureInPictureToggle:!1}});t.src({type:"video/mp4",src:e.urlVideo}),t.on("ended",(function(){this.isFullscreen()&&this.exitFullscreen()}))}}else"slider"==e&&new Swiper(t,{simulateTouch:!1,grabCursor:!1,watchOverflow:!1,speed:500,on:{slideChangeTransitionStart:function(){this.el.classList.add("-animSlides")},slideChangeTransitionEnd:function(){this.el.classList.remove("-animSlides")},slideChange:function(){initElements("video",this.slides[this.activeIndex]),changeSlide(this)},init:changeSlide}})}function insertTags(e){const t={start:'<span class="small">',end:"</span>"},s=[{name:"text-line",start:'<span class="formulas__text-line">',end:"</span>"},{name:"text-line-text",...t},{name:"text-line-width",start:`<span class="formulas__text-line formulas__text-line_width">${t.start}`,end:`${t.end}</span>`},{name:"e",start:'<span class="formulas__e">',end:"</span>"},{name:"bottom-label",start:'<span class="formulas__b-label">',end:"</span>"},{name:"bottom-label-text",...t},{name:"bottom-label-left",start:'<span class="formulas__b-label formulas__b-label_left">',end:"</span>"},{name:"bottom-label-left-text",start:"<span>",end:"</span>"},{name:"indexes",start:'<span class="formulas__indexes">',end:"</span>"},{name:"top-index",start:'<span class="formulas__t-index">',end:"</span>"},{name:"bottom-index",start:'<span class="formulas__b-index">',end:"</span>"}];let n=e;const i=()=>{s.forEach((e=>{n.includes(`<${e.name}>`)&&(n=n.replace(`<${e.name}>`,e.start).replace(`</${e.name}>`,e.end),i())}))};return i(),n}function updatePopupInfo(e){const t=document.querySelector(".main-content.-active .popup-reaction_info .popup-reaction__body");if(e){let s="";if(Object.hasOwn(e,"formulas")){const t='<div class="popup-reaction__formulas formulas"><div class="formulas__rows">',n="</div></div>";let i="";e.formulas.forEach((e=>{const t=`<div class="formulas__row${e.type&&"parts"==e.type?" formulas__row_parts":""}">`;let s="";if(e.type){if("parts"!=e.type)return!1;{let t="";e.text.forEach((e=>{let s="";Array.isArray(e)?e.forEach((e=>{s+=`<div class="formulas__subrow">${insertTags(e)}</div>`})):s+=e,t+='<div class="formulas__col">'+s+"</div>"})),s+=t}}else s+=insertTags(e.text);i+=t+s+"</div>"})),s+=t+i+n}if(Object.hasOwn(e,"btns")){const t='<div class="popup-reaction__btns">',n="</div>";let i="";e.btns.forEach((e=>{i+=`<a href="" class="popup-reaction__btn" data-link="${e.link}"><span>${e.text}</span><span class="-icon-arrow-right"></span></a>`})),s+=t+i+n}t.insertAdjacentHTML("beforeend",s)}else setTimeout((()=>{t.innerHTML=""}),500)}function createItems(e,t){let s="",n=(e,t)=>`<a href="" class="main-content__${t?"plus":"item"}" data-tab-item data-tooltip-label="${e.tooltip}">${t?"":e.text+'<span class="-icon-arrow-right"></span>'}</a>`;return e.forEach((e=>{if(e.hasOwnProperty("items")){if("plus"==e.type){let t="";e.items.forEach(((e,s)=>{t+=n(e,!!s)})),s+='<li><div class="main-content__item -btn-plus">'+t+"</div></li>"}}else s+="<li>"+n(e)+"</li>";"spoller"==e.type&&(s+="insertSpoller")})),s}function getElementsMainContent(e){const t=[],s=[];let n=e=>{e.items.forEach((e=>{"spoller"==e.type?n(e):"plus"==e.type?e.items.forEach((e=>s.push(e))):e.type||s.push(e)}))};return((e=null)=>{(0==t.length?e:t[t.length-1].items).forEach((e=>{"spoller"==e.type?(t.push(e),n(e)):"plus"==e.type?e.items.forEach((e=>s.push(e))):e.type||s.push(e)}))})(e),[t,s]}fetch("./json/data.min.json").then((e=>e.json())).then((e=>{const t=document.querySelector(".menu__list"),s=document.querySelector(".menu__label"),n=document.querySelector(".tabs-main__contents");let i="",a="";const o=e=>{const t=`<div class="main-content__popup popup-reaction popup-reaction_${e}">`;let s="";if("switch"==e){let e="";[{text:"Попередня реакція",typeArrow:"prev"},{text:"Наступна реакція",typeArrow:"next"}].forEach((t=>{e+=`<div class="popup-reaction__arrow popup-reaction__arrow_${t.typeArrow}">${t.text}<span class="-icon-arrow-right-long"></span></div>`})),s+=`<div class="popup-reaction__arrows">${e}</div>`}return t+'<div class="popup-reaction__opener"><a href=""><span class="-icon-arrow-right"></span></a></div><div class="popup-reaction__body">'+s+"</div></div>"},l=(e,t,s)=>{const n=[e],i=e=>{e.items.forEach((e=>{"spoller"==e.type&&(n.push(e),i(e))}))};i(e);const a=[],o=n.map((e=>((e,t,s)=>{let n=!1;return 0==t&&0==s.indexOf(e)&&(n=!0),`<div class="main-content__submenu" data-spollers="min, 0"><a href="" class="main-content__item${n?" -active":""}" ${e.tooltip?` data-tooltip-label="${e.tooltip}"`:""} data-spoller-item>${e.openerText}<span class="-icon-arrow-right"></span></a><div class="main-content__sublist"><ul class="main-content__list">`+createItems(e.items)+"</ul></div></div>"})(e,t,s))).reverse();if(o.length>1){let e="<li>"+o[0]+"</li>";o.forEach(((t,s)=>{t.includes("insertSpoller")&&(e="<li>"+t.replace("insertSpoller",e)+"</li>")})),a.push(e)}else a.push("<li>"+o[0]+"</li>");return a};for(const t in e){const s=e[t];i+=`<li><a href="" class="menu__item"><span>${s.text}</span></a></li>`,a+=`<span>${s.label}</span>`;const[r,c]=getElementsMainContent(s.items),d=r.map(((e,t)=>l(e,t,s.items)));let p=createItems(s.items);d.forEach((e=>{p=p.replace("insertSpoller",e)}));const m='<div class="main-content__menu" data-tab-items><ul class="main-content__list">'+p+"</ul></div>";let u="";c.forEach((e=>{let t="";if(Array.isArray(e.content)){const s=e.content,n='<div class="main-content__slider slider-main-content">',i="</div>",a='<div class="slider-main-content__body swiper">',o="</div>",l='<div class="slider-main-content__wrapper swiper-wrapper">',r="</div>";let c="";for(let e=0;e<s.length;e++)c+='<div class="slider-main-content__slide swiper-slide"></div>';t+=n+a+l+c+r+o+i}u+='<div class="main-content__content">'+t+"</div>"}));const h=o("switch")+o("info"),v='<div class="tabs-main__content main-content"><div class="main-content__body" data-tab="min, 0" data-animation-show="showTabContent, 500" data-animation-hide="hideTabContent, 500">'+m+('<div class="main-content__contents" data-tab-contents>'+u+"</div>")+h+"</div></div>";n.insertAdjacentHTML("beforeend",v)}t.insertAdjacentHTML("beforeend",i),s.insertAdjacentHTML("beforeend",a);const r=(e,t,s)=>{e.setAttribute("data-tab-item",s),t.setAttribute("data-tab-content",s)};for(const t in e){const s=e[t],n=document.querySelectorAll(".menu__item")[t-1],i=document.querySelectorAll(".main-content")[t-1];r(n,i,t);const a=i.querySelectorAll("[data-tab-item]"),o=i.querySelectorAll(".main-content__content");for(let e=0;e<a.length;e++){const t=a[e],n=o[e];r(t,n,e+1);const i=getElementsMainContent(s.items)[1][e].content;if(Array.isArray(i)){n.querySelectorAll(".swiper-slide").forEach(((e,t)=>{e.urlVideo=i[t].urlVideo,e.popupSettings=i[t].popup}))}else i&&(n.urlVideo=i.urlVideo,n.popupSettings=i.popup)}}(new Tabs).init();(new Spoller).init()}));